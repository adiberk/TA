<p id="notice"><%= notice %></p>
<% provide(:title, @user.first_name) %>

<div class="col-sm-9">
    <!-- sidebar -->
<!--      <div class="col-sm-1">
      <p>
        <img src="<%=Faker::Avatar.image%>" height = "100" width = "100" />
      </p>
    </div> -->
    <div class="col-sm-3">
      <center>
      <div class="user_name">

        <p>
          <img src="<%=Faker::Avatar.image%>" height = "100" width = "100" />
          <h3> <%=@user.first_name%> <%=@user.last_name%></h3>
        </p>
      </div>
      </center>
    </div>

    <div class="col-sm-9">
      <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'London')">Student</button>
        <button class="tablinks" onclick="openCity(event, 'Paris')">TA</button>
      </div>

      <div id="London" class="tabcontent" style=display:block>
        <div class="row">
        <div class="course_appoint col-sm-12">
          <p>
            <strong>Courses</strong>
            <ul>
                <% course_list = current_user().courses %>
                <% course_list.each do |c| %>
                    <li> <%= link_to "#{c.name}", :controller => "courses", :action =>"show", :id=>"#{c.id}", :course_name=>"#{c.name}", class: 'link' %> </li>
                <% end %>

            </ul>
          </p>
          <hr>
        </div>
        <div id='appointments'>
          <%=render 'appointments'%>
        </div>
        </div>
      </div>

      <div id="Paris" class="tabcontent">
        <!--  -->
<div class="container">
	<div class="row">
        <!-- Boxes de Acoes -->
    	<div class="col-sx-12 col-sm-6 col-lg-6">
			<div class="box">
				<div class="icon">
					<div class="image"><i class="fa fa-thumbs-o-up"></i></div>
					<div class="info">
						<h3 class="title">Made with Bootstrap</h3>
						<p>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed in lobortis nisl, vitae iaculis sapien. Phasellus ultrices gravida massa luctus ornare. Suspendisse blandit quam elit, eu imperdiet neque semper.
						</p>
						<button type="submit" class="btn btn-default">submit</button>
					</div>
				</div>
				<div class="space"></div>
			</div>
		</div>

        <div class="col-xs-12 col-sm-6 col-lg-6">
			<div class="box">
				<div class="icon">
				    <div class="image"><i class="fa fa-flag"></i></div>
					<div class="info">
    					<h3 class="title">Made with Bootstrap</h3>
						<p>
							Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed in lobortis nisl, vitae iaculis sapien. Phasellus ultrices gravida massa luctus ornare. Suspendisse blandit quam elit, eu imperdiet neque semper.
						</p>
						<button type="submit" class="btn btn-default">submit</button>
					</div>
				<div class="space"></div>
			</div>
		</div>


		<!-- /Boxes de Acoes -->
	</div>
</div>
        <!--  -->
      </div>
    </div>
  </div>







    <div class="container">
        <div id="target" style="margin: auto; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: flex-start;">
          <%#=create_header%>
          <%#=create_cal(Course.find(2))%>
          <%#= render 'cal_create'%>
        </div>
    </div>
<!--         <div class="container">
        <div id="mytarget" style="margin: auto; width: 50%; height: 100%; display: flex; flex-direction: row; justify-content: center;">
        </div>
    </div> -->
    <script>
        // $().weekly_schedule();
        $('.schedule').on('selectionmade', function() {
          console.log("Selection Made");

        }).on('selectionremoved', function() {
          console.log("Selection Removed");
        });
        $(document).ready( function() {
          var mousedown = false;
          var devarionMode = false;
          // $('#cal-table').on('mousedown', function(event) {
          //   var target = $(event.target);
          //   $td = target.closest('div');
          //   mousedown = true;
          //   $td.append('HELLO');
          //   var col   = $td.index();
          //   var row   = $td.closest('div').index();

          //   // $('#debug').prepend('<div class="debugLine">Cell at position (' + [col,row].join(',') + ') clicked!</div>' );

          //   console.log("TARGET = " + td);

          // // }).on('mouseup', function(){

          // });
          $('.hour').on('mousedown', function(event) {
              // var count = 0;
          // }).on('mousedown', function() {
              // mousedown = true;
              // focusOn($(this).parent());

              // if ($(this).hasClass('selected')) {
              //     // $(this).trigger('selectionremoved')
              //     // // // time = $(this).children()[1].remove();
              //     // $(this).removeClass('selected');
              //     if (!$(this).children().children().hasClass('offhour')){
              //       // $(this).children().children('div:nth-child(2)').modal('hide');
              //       $(this).trigger('selectionremoved')
              //       // // time = $(this).children()[1].remove();
              //       $(this).removeClass('selected');
              //     }

              //     // console.log(time)
              //     // devarionMode = true;
              // }
              // else {
                  if (!$(this).children().children().hasClass('offhour')){
                    $(this).children().children('div:nth-child(2)').modal('show');
                    // $(this).trigger('selectionmade')
                    // $(this).addClass('selected');
                  }
                  // $(this).addClass('counter');
                  // $(this).append("<h4 class = 'time-added', id = 'time-added'>HELLO</h4>");

              // }
              // $(this).removeClass('hover');
          // }).on('mouseup', function() {
              // devarionMode = false;
              // mousedown = false;
              // clearFocus();
          // }).on('mouseleave', function () {
          //     if (!mousedown) {
          //         $(this).removeClass('hover');
          //     }
          });

          // function focusOn(day) {
          //   var targetDayClass = $(day).attr('class').split('\ ')[1];
          //   var dayContainer = $('.day');

          //   for (var i = 0; i < dayContainer.length; i++) {
          //       if ($(dayContainer[i]).hasClass(targetDayClass)) {
          //           continue;
          //       }
          //       console.log("HEYP");
          //       var hours = $(dayContainer[i]).children();
          //       for (var j = 0; j < hours.length; j++) {
          //           $(hours[j]).addClass('disabled');
          //       }
          //   }

            // $(day).on('mouseleave', function() {
            //     clearFocus();
            //     console.log("Hover");
            //     mousedown = false;
            //     devarionMode = false;
            // });
          // }
          // function clearFocus() {
          //   var dayContainer = $('.day');

          //   for (var i = 0; i < dayContainer.length; i++) {

          //     var hours = $(dayContainer[i]).children();
          //     for (var j = 0; j < hours.length; j++) {
          //         $(hours[j]).removeClass('disabled');
          //     }
          //   }
          // }
        });
      //   $('.hour').on('click', function(event) {
      //       if $(this).children().children('div:nth-child(2)').hasClass()
      //       $(this).children().children('div:nth-child(2)').modal('show');
      //       $(this).children().children('div:nth-child(2)').toggle();
      //       $(this).children().children('div:nth-child(2)').modal('hide');
      //   // $(this).children().children('button').click()
      // });
    </script>
<%= link_to 'Edit', edit_user_path(@user) %> |
<%= link_to 'Back', users_path %>
</div>
